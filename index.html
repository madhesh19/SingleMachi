<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Single Machi Subscription form</title>
  <link rel="icon" href="https://pbs.twimg.com/profile_images/1253736283429646336/E5YoO62M_400x400.jpg" type="image/x-icon">
  <link rel="stylesheet" href="style.css">
</head>
<body>
   
    <div class="container" >
      <h2>Single <span>Machi</span> Premium Subscription</h2>

      <form name="myForm" id="myForm" action="" method="post" enctype="multipart/form-data">
        <div class="form-group" data-tilt  data-tilt-scale="1.2" data-tilt-axis="x">
          <label for="payment_screenshot">Payment Screenshot:</label>
          <input type="file" id='payment_screenshot' name='payment_screenshot' accept="image/*"  required>
        </div>
        <div>
          <button id="submitBtn" type="submit" class="btn"><span>Submit</span><img src="https://i.cloudup.com/2ZAX3hVsBE-3000x3000.png" height="62" width="62"></button>
        </div>
      </form>
    </div>

    <script>
      let url = "https://script.google.com/macros/s/AKfycbzVKp8Ggusdpd-sGhNn1_1ZLoX9AkTNJL4OSD4Gewt_2Hd_StXo-HPupxZE0oTRkQDy/exec"
      let file = document.querySelector("input")
      const form = document.querySelector("#myForm");

      file.addEventListener('change',() => {
        let fr = new FileReader()
        fr.addEventListener('loadend',()=>{
          let res = fr.result
          let spt = res.split("base64,")[1]
          //console.log(spt)
          let obj = {
            base64:spt,
            type:file.files[0].type,
            name:file.files[0].name
          }
          fetch(url,{
            method:"POST",
            body:JSON.stringify(obj)
          })
          .then(r=>r.text())
          .then(data=>console.log(data))
        })
        fr.readAsDataURL(file.files[0])
      })

      form.addEventListener("submit", (event) => {
      event.preventDefault(); // Prevent the default form submission behavior
      // You can perform any additional form validation or processing here before redirecting

       // Redirect to another page
       setTimeout(() => {
        //Redirect to another page
        window.location.href = "form.html";
       }, 3000);
      });
    </script>
   
    

    
   

   

    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.8.0/vanilla-tilt.min.js" integrity="sha512-RX/OFugt/bkgwRQg4B22KYE79dQhwaPp2IZaA/YyU3GMo/qY7GrXkiG6Dvvwnds6/DefCfwPTgCXnaC6nAgVYw==" crossorigin="anonymous" referrerpolicy="no-referrer">
    </script>
    <script src="button.js"></script>
    <script src="blur.js"></script>
   
    
    

    
    

  

  
  
</body>
</html>